(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{34:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},40:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){},55:function(e,t,s){},56:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},59:function(e,t,s){},60:function(e,t,s){},61:function(e,t,s){},62:function(e,t,s){},63:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),a=s(10),r=s.n(a),l=s(9),i=(s(33),s(15)),o=(s(34),s(0));var d=function(){return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)("h1",{className:"header__title",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),Object(o.jsx)("button",{className:"header__close",type:"button"})]})},p=s(5),u=s(6),j=s(7),m=s(23),b=s(3),_=[{id:1,name:"\xab\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\xbb",countries:59,itemCost:7900,cost:9900,minItems:20},{id:2,name:"\xab\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442+\xbb",countries:74,itemCost:9900,cost:16500,minItems:15},{id:3,name:"\xab\u041f\u0440\u0435\u043c\u0438\u0443\u043c\xbb",countries:90,itemCost:11900,cost:37900,minItems:10}],h=[{id:1,value:1,discount:0},{id:2,value:2,discount:10},{id:3,value:3,discount:20},{id:4,value:4,discount:30}],O="CHANGE_PLAN",N="ADD_TERM",x="CHANGE_SLOTS",v=function(e,t,s){return t*s+e},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e*t*s},S=function(e){return(100-e)/100},C=function(e){return h.map((function(t){return e*t.value*S(t.discount)}))},g={balance:4e5,id:null,planName:null,slotsNumber:null,minSlotsNumber:null,planCost:null,totalCost:null,discount:0,subscriptionTerm:1,costPerMonth:null,minSlots:null,slotCost:null,isTermSelected:!1,totalCostForSelect:null},y=(s(36),function(e){var t=e.name,s=e.minItems,n=e.countries,c=e.itemCost,a=e.cost,r=e.id,l=e.changePlan;return Object(o.jsxs)("label",{className:"plan-card",children:[Object(o.jsx)("input",{className:"plan-card__input",type:"radio",name:"plan",value:r,onChange:function(e){l(e.target.value)}}),Object(o.jsxs)("span",{className:"plan-card__wrapper",children:[Object(o.jsx)("span",{className:"plan-card__title",children:t}),Object(o.jsxs)("span",{className:"plan-card__description-wrapper",children:[Object(o.jsx)("span",{className:"plan-card__description",children:"\u043e\u0442 ".concat(s," \u0441\u043b\u043e\u0442\u043e\u0432,")}),Object(o.jsx)("span",{className:"plan-card__description",children:"".concat(n," \u0441\u0442\u0440\u0430\u043d \u0413\u0415\u041e,")}),Object(o.jsx)("span",{className:"plan-card__description",children:"$".concat(Math.round(c/100)," \u0437\u0430 \u0441\u043b\u043e\u0442")})]}),Object(o.jsxs)("span",{className:"plan-card__coast",children:["$".concat(Math.round(a/100)," "),Object(o.jsx)("span",{className:"plan-card__coast-text",children:"/ \u043c\u0435\u0441\u044f\u0446"})]}),Object(o.jsx)("a",{className:"plan-card__link",href:"/mock-link",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})]})}),T=(s(37),function(e){var t=e.plans,s=e.changePlan,n=t.map((function(e){return Object(o.jsx)(y,Object(b.a)({changePlan:s},e),e.id)}));return Object(o.jsxs)("div",{className:"plan-select",children:[Object(o.jsx)("h2",{className:"plan-select__title",children:"\u041f\u043b\u0430\u043d \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),Object(o.jsx)("div",{className:"plan-select__cards",children:n})]})}),P=(s(38),function(e){var t=e.slotsNumber,s=e.minSlotsNumber,c=e.changeSlots,a=Object(n.useState)(!1),r=Object(i.a)(a,2),l=r[0],d=r[1];return Object(o.jsxs)("div",{className:"slots-select",children:[Object(o.jsx)("h3",{className:"slots-select__title",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043b\u043e\u0442\u043e\u0432"}),Object(o.jsxs)("div",{className:"slots-select__input-wrapper",children:[Object(o.jsx)("input",{className:"slots-select__input",type:"number",value:t||"",min:"0",disabled:null===t,onChange:function(e){c(e.target.value)},onBlur:function(e){d(t<s)}}),Object(o.jsx)("button",{className:"slots-select__button slots-select__button--plus",onClick:function(){var e=Number(t)+1;c(e)},disabled:null===t,type:"button",children:"+"}),Object(o.jsx)("button",{className:"slots-select__button slots-select__button--minus",onClick:function(){var e=Number(t)-1;c(e)},disabled:null===t||t===s,type:"button",children:"-"}),l&&Object(o.jsx)("span",{className:"slots-select__error",children:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u043d\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u043e\u043b\u0435\u0435 ".concat(s," \u0441\u043b\u043e\u0442\u043e\u0432")})]})]})}),A=(s(39),function(e){var t=e.currentStep,s=e.plans,n=e.changePlan,c=e.changeSlots,a=e.slotsNumber,r=e.minSlotsNumber;return 1!==t?null:Object(o.jsxs)("div",{className:"step1",children:[Object(o.jsx)("div",{className:"step1__plan",children:Object(o.jsx)(T,{plans:s,changePlan:n})}),Object(o.jsx)("div",{className:"step1__slots",children:Object(o.jsx)(P,{changeSlots:c,slotsNumber:a,minSlotsNumber:r})})]})}),k=s(22);s(40);var w=function(e){var t=e.changeTerm,s=e.subscriptions,n=e.totalCostForSelect,c=s.map((function(e,t){return{value:e.value,label:"".concat(e.value," ").concat(1===e.value?"\u043c\u0435\u0441\u044f\u0446":"\u043c\u0435\u0441\u044f\u0446\u0430"," - ").concat(Math.round(n[t]/100),"$")}}));return Object(o.jsxs)("div",{className:"term-select",children:[Object(o.jsx)("h2",{className:"term-select__title",children:"\u0421\u0440\u043e\u043a \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),Object(o.jsx)(k.a,{options:c,onChange:function(e){t(e.value)}})]})},M=(s(53),function(e){var t=e.currentStep,s=e.changeTerm,n=e.subscriptions,c=e.totalCostForSelect;return 2!==t?null:Object(o.jsx)("div",{className:"step2",children:Object(o.jsx)(w,{changeTerm:s,subscriptions:n,totalCostForSelect:c})})}),F=(s(54),function(e){return 3!==e.currentStep?null:Object(o.jsxs)("div",{className:"step3",children:[Object(o.jsx)("h2",{className:"step3__title",children:"\u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"}),Object(o.jsx)("div",{className:"step3__cash",children:Object(o.jsxs)("label",{className:"step3__input-title step3__input-title--cash",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",Object(o.jsx)("input",{className:"step3__input",type:"number"})]})}),Object(o.jsxs)("div",{className:"step3__payment",children:[Object(o.jsx)("p",{className:"step3__input-title step3__input-title--payment",children:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}),Object(o.jsxs)("div",{className:"step3__radio-wrapper",children:[Object(o.jsxs)("label",{className:"step3__label",children:["\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439",Object(o.jsx)("input",{className:"step3__radio",type:"radio",name:"payment",value:"card"})]}),Object(o.jsxs)("label",{className:"step3__label",children:["Webmoney",Object(o.jsx)("input",{className:"step3__radio",type:"radio",name:"payment",value:"webmoney"})]}),Object(o.jsxs)("label",{className:"step3__label",children:["\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0435\u043d\u044c\u0433\u0438",Object(o.jsx)("input",{className:"step3__radio",type:"radio",name:"payment",value:"yandex"})]}),Object(o.jsxs)("label",{className:"step3__label",children:["Bitcoin",Object(o.jsx)("input",{className:"step3__radio",type:"radio",name:"payment",value:"bitcoin"})]}),Object(o.jsxs)("label",{className:"step3__label",children:["QIWI \u043a\u043e\u0448\u0435\u043b\u0435\u043a",Object(o.jsx)("input",{className:"step3__radio",type:"radio",name:"payment",value:""})]})]})]})]})});s(55);var I=function(e){var t=e.name,s=e.isActive,n=e.onClick,c=e.mod,a=e.type,r=void 0===a?"button":a;return Object(o.jsx)("div",{className:"button__wrapper",children:Object(o.jsx)("button",{className:"button ".concat(c?"button--".concat(c):""),type:r,disabled:!s,onClick:n,children:t})})},$=(s(56),function(e){var t=e.currentStep,s=e.name;return Object(o.jsxs)("div",{className:"pagination",children:[Object(o.jsx)("div",{className:"pagination__count",children:"\u0428\u0430\u0433 ".concat(t,"/3")}),Object(o.jsx)("div",{className:"pagination__name",children:s[t-1]}),Object(o.jsx)("div",{className:"pagination__line pagination__line--".concat(t)})]})}),E=(s(57),function(e){Object(j.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(p.a)(this,s),(n=t.call(this,e))._next=function(){var e=n.props.currentStep;e=e>=2?3:e+1,n.props.changeStep(e)},n._prev=function(){var e=n.props.currentStep;e=e<=1?1:e-1,n.props.changeStep(e)},n.changePlan=function(e){n.props.changePlan(e),n.setState({isActiveNext:!0})},n.changeSlots=function(e){n.setState({isActiveNext:e>=n.props.minSlotsNumber}),n.props.changeSlots(e)},n.state={isActiveNext:!1,isActivePrev:!0,paginationName:["\u041f\u043b\u0430\u043d \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438","\u0421\u0440\u043e\u043a \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438","\u041e\u043f\u043b\u0430\u0442\u0430"]},n}return Object(u.a)(s,[{key:"render",value:function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{className:"master-form",children:[Object(o.jsxs)("div",{className:"master-form__main",children:[Object(o.jsx)(A,{currentStep:this.props.currentStep,plans:this.props.plans,slotsNumber:this.props.slotsNumber,minSlotsNumber:this.props.minSlotsNumber,changePlan:this.changePlan,changeSlots:this.changeSlots}),Object(o.jsx)(M,{currentStep:this.props.currentStep,changeTerm:this.props.changeTerm,subscriptions:this.props.subscriptions,totalCostForSelect:this.props.totalCostForSelect}),Object(o.jsx)(F,{currentStep:this.props.currentStep})]}),Object(o.jsxs)("div",{className:"master-form__button",children:[this.props.currentStep<4?Object(o.jsx)(I,{name:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",onClick:this._next,isActive:this.state.isActiveNext&&3!==this.props.currentStep}):null,1!==this.props.currentStep&&this.props.currentStep<4?Object(o.jsx)(I,{name:"< \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434",onClick:this._prev,isActive:this.state.isActivePrev,mod:"prev"}):null]}),this.props.currentStep<4?Object(o.jsx)("div",{className:"master-form__pagination",children:Object(o.jsx)($,{currentStep:this.props.currentStep,name:this.state.paginationName})}):null]})})}}]),s}(c.a.Component)),B=Object(l.b)((function(e){return{plans:e.data.data,planId:e.order.id,slotsNumber:e.order.slotsNumber,minSlotsNumber:e.order.minSlotsNumber,subscriptionTerm:e.order.subscriptionTerm,slotCost:e.order.slotCost,subscriptions:e.data.subscriptions,totalCostForSelect:e.order.totalCostForSelect}}),{changePlan:function(e){return{type:O,id:e}},changeTerm:function(e){return{type:N,count:e}},changeSlots:function(e){return{type:x,count:e}}})(E);s(58);var D=function(e){var t=e.name,s=e.added,n=e.description,c=e.mod;return Object(o.jsxs)("div",{className:"order-item",children:[Object(o.jsx)("span",{className:"order-item__name",children:t}),Object(o.jsx)("span",{className:"order-item__added ".concat(c?"order-item__added--".concat(c):""),children:s}),Object(o.jsx)("span",{className:"order-item__description",children:n})]})},G=(s(59),Object(l.b)((function(e){return{planName:e.order.planName,planCost:e.order.planCost,slotsNumber:e.order.slotsNumber,subscriptionTerm:e.order.subscriptionTerm,discount:e.order.discount,totalCost:e.order.totalCost,balance:e.order.balance,isTermSelected:e.order.isTermSelected}}))((function(e){var t,s,n=e.planName,c=e.planCost,a=e.slotsNumber,r=e.subscriptionTerm,l=e.discount,i=e.totalCost,d=e.balance,p=e.isTermSelected,u=e.changeStep,j=a?"".concat(a," \u0441\u043b\u043e\u0442\u043e\u0432"):null,m=n||"\u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d",b=Object(o.jsx)(D,{name:"\u041f\u043b\u0430\u043d ".concat(m),added:"$".concat(Math.round(c/100)),description:j});if(p){var _=1===r?"\u043c\u0435\u0441\u044f\u0446":"\u043c\u0435\u0441\u044f\u0446\u0430";t=Object(o.jsx)(D,{name:"\u0421\u0440\u043e\u043a \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",added:"x".concat(r),description:"".concat(r," ").concat(_)})}l&&(s=Object(o.jsx)(D,{name:"\u0421\u043a\u0438\u0434\u043a\u0430",added:"-".concat(l,"%"),description:"\u043d\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443",mod:"discount"}));return Object(o.jsxs)("div",{className:"order",children:[Object(o.jsx)("h2",{className:"order__title",children:"\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441"}),Object(o.jsxs)("div",{className:"order__items-wrapper",children:[Object(o.jsx)("div",{className:"order__plan",children:b}),Object(o.jsx)("div",{className:"order__term",children:t}),Object(o.jsx)("div",{className:"order__discount",children:s})]}),Object(o.jsxs)("div",{className:"order__total-wrapper",children:["\u0418\u0442\u043e\u0433\u043e:",Object(o.jsx)("span",{className:"order__total",children:"$".concat(Math.round(i/100))})]}),Object(o.jsxs)("div",{className:"order__bottom-wrapper",children:[Object(o.jsxs)("div",{className:"order__balance-wrapper",children:[Object(o.jsx)("span",{className:"order__balance-description",children:"\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441: "}),Object(o.jsx)("span",{className:"order__balance",children:"$".concat(Math.round(d/100),".00")})]}),Object(o.jsx)("div",{className:"order__button",children:Object(o.jsx)(I,{name:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c",isActive:i&&d>=i,onClick:function(){d>=i&&u(4)}})})]})]})}))),H=(s(60),Object(l.b)((function(e){return{planName:e.order.planName,planCost:e.order.planCost,slotsNumber:e.order.slotsNumber,subscriptionTerm:e.order.subscriptionTerm,discount:e.order.discount,totalCost:e.order.totalCost}}))((function(e){var t=e.planName,s=e.planCost,n=e.slotsNumber,c=e.subscriptionTerm,a=e.discount,r=e.totalCost;return Object(o.jsxs)("div",{className:"final-step",children:[Object(o.jsx)("h2",{className:"final-step__title",children:"\u0413\u043e\u0442\u043e\u0432\u043e!"}),Object(o.jsxs)("p",{className:"final-step__description",children:["\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0430",Object(o.jsx)("br",{}),"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u044b \u0438\u0437 \u0440\u0430\u0437\u0434\u0435\u043b\u0430 \xab\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430\xbb"]}),Object(o.jsxs)("ul",{className:"final-step__list",children:[Object(o.jsxs)("li",{className:"final-step__item",children:[Object(o.jsx)("span",{className:"final-step__name",children:"\u041f\u043b\u0430\u043d ".concat(t)}),Object(o.jsx)("span",{className:"final-step__added",children:"$".concat(Math.round(s/100))}),Object(o.jsx)("span",{className:"final-step__added-description",children:"".concat(n," \u0441\u043b\u043e\u0442\u043e\u0432")})]}),Object(o.jsxs)("li",{className:"final-step__item",children:[Object(o.jsx)("span",{className:"final-step__name",children:"\u0421\u0440\u043e\u043a \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),Object(o.jsx)("span",{className:"final-step__added",children:"x".concat(c)}),Object(o.jsx)("span",{className:"final-step__added-description",children:"".concat(c," ").concat(1===c?"\u043c\u0435\u0441\u044f\u0446":"\u043c\u0435\u0441\u044f\u0446\u0430")})]}),a?Object(o.jsxs)("li",{className:"final-step__item",children:[Object(o.jsx)("span",{className:"final-step__name",children:"\u0421\u043a\u0438\u0434\u043a\u0430"}),Object(o.jsx)("span",{className:"final-step__added",children:"-".concat(a,"%")}),Object(o.jsx)("span",{className:"final-step__added-description",children:"\u041d\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"})]}):null]}),Object(o.jsxs)("div",{className:"final-step__total",children:[Object(o.jsx)("span",{children:"\u0418\u0442\u043e\u0433\u043e:"}),Object(o.jsx)("span",{className:"final-step__total-cost",children:" $".concat(Math.round(r/100))})]}),Object(o.jsx)("div",{className:"final-step__button",children:Object(o.jsx)(I,{name:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0437\u0430\u043f\u0440\u043e\u0441\u0443",isActive:"true"})})]})})));s(61);var J=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),s=t[0],c=t[1],a=function(e){c(e)};return Object(o.jsxs)("div",{className:"app",children:[Object(o.jsx)("div",{className:"app__header",children:Object(o.jsx)(d,{})}),s<4?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"app__content",children:Object(o.jsx)(B,{currentStep:s,changeStep:a})}),Object(o.jsx)("div",{className:"app__order",children:Object(o.jsx)(G,{changeStep:a})})]}):null,4===s?Object(o.jsxs)("div",{className:"app__finish",children:[Object(o.jsx)(H,{})," "]}):null]})},L=s(18),W={data:_,subscriptions:h},Q=Object(L.a)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;return t.type,e},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var s=_[t.id-1],n=v(s.cost,s.minItems,s.itemCost),c=S(e.discount),a=f(n,e.subscriptionTerm,c);return Object(b.a)(Object(b.a)({},e),{},{id:s.id,planName:s.name,slotsNumber:s.minItems,minSlotsNumber:s.minItems,slotCost:s.itemCost,costPerMonth:s.cost,planCost:n,totalCost:a,totalCostForSelect:C(n)});case x:var r=v(e.costPerMonth,t.count,e.slotCost),l=S(e.discount);return Object(b.a)(Object(b.a)({},e),{},{slotsNumber:t.count,planCost:r,totalCost:f(r,e.subscriptionTerm,l),totalCostForSelect:C(r)});case N:var i=h[t.count-1].discount,o=S(i);return Object(b.a)(Object(b.a)({},e),{},{subscriptionTerm:t.count,discount:i,totalCost:f(e.planCost,t.count,o),isTermSelected:!0});default:return e}}}),R=Object(L.b)(Q);s(62);r.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(l.a,{store:R,children:Object(o.jsx)(J,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.c3a098f0.chunk.js.map